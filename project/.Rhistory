knitr::opts_chunk$set(echo = TRUE)
#import data
loans <- read.csv2("C:/Users/matt/source/repos/ds705/project/loans50k.csv", header = TRUE, sep = ",")
#import data
loans <- read.csv2("C:/Users/matt/source/repos/ds705/project/loans50k.csv", header = TRUE, sep = ",")
loans$response <- loans$status
levels(loans$response)[levels(loans$response)==c("Charged Off")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Default")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Fully Paid")] <- "Good"
loans <- loans[which(loans$response=="Bad" | loans$response=="Good"), ]
#remove unuused levels
loans$response <- factor(loans$response)
#loans <- loans[loans$response == c("Good","Bad"),]
table(loans$response)
#
#columns_to_keep <- c("response", "income", "amount", "rate", "grade", "debtIncRat", "length")
#
columns_to_keep <- c("response","amount","payment","home","income","delinq2yr","inq6mth","openAcc","totalBal","totalIlLim")
loans <- loans[columns_to_keep]
summary(loans)
class(loans$payment)
class(loans$income)
table(loans$income)
loans$income <- as.numeric(loans$income)
loans$payment <- as.numeric(loans$payment)
summary(loans$income)
summary(loans)
View(loans)
```{r echo=FALSE}
pressure,
hist(amount)
hist(loans$amount)
hist(loans$payment)
hist(loans$home)
hist(loans$income)
hist(loans$delinq2yr)
hist(loans$inq6mth)
hist(loans$openAcc)
hist(loans$totalBal)
hist(loans$totalIlLim)
summary(loans)
#import data
loans <- read.csv2("C:/Users/matt/source/repos/ds705/project/loans50k.csv", header = TRUE, sep = ",")
loans$response <- loans$status
levels(loans$response)[levels(loans$response)==c("Charged Off")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Default")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Fully Paid")] <- "Good"
loans <- loans[which(loans$response=="Bad" | loans$response=="Good"), ]
#remove unuused levels
loans$response <- factor(loans$response)
#loans <- loans[loans$response == c("Good","Bad"),]
table(loans$response)
#
#columns_to_keep <- c("response", "income", "amount", "rate", "grade", "debtIncRat", "length")
#
columns_to_keep <- c("response","amount","payment","home","income","delinq2yr","inq6mth","openAcc","totalBal","totalIlLim")
loans <- loans[columns_to_keep]
summary(loans)
View(loans)
loans$income <- as.numeric(as.character(loans$income))
loans$payment <- as.numeric(as.character(loans$payment))
hist(loans$amount)
hist(loans$payment)
hist(loans$income)
hist(loans$delinq2yr)
hist(loans$inq6mth)
hist(loans$openAcc)
hist(loans$totalBal)
hist(loans$totalIlLim)
knitr::opts_chunk$set(echo = TRUE)
#import data
loans <- read.csv2("C:/Users/matt/source/repos/ds705/project/loans50k.csv", header = TRUE, sep = ",")
loans$response <- loans$status
levels(loans$response)[levels(loans$response)==c("Charged Off")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Default")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Fully Paid")] <- "Good"
loans <- loans[which(loans$response=="Bad" | loans$response=="Good"), ]
#remove unuused levels
loans$response <- factor(loans$response)
#
#columns_to_keep <- c("response", "income", "amount", "rate", "grade", "debtIncRat", "length")
#
columns_to_keep <- c("response","amount","payment","home","income","delinq2yr","inq6mth","openAcc","totalBal","totalIlLim")
loans <- loans[columns_to_keep]
loans$income <- as.numeric(as.character(loans$income))
loans$payment <- as.numeric(as.character(loans$payment))
hist(loans$amount)
hist(loans$amount^2)
hist(sqrt(loans$amount))
hist(cuberoot(loans$amount))
hist((loans$amount)^(1/3))
hist((loans$amount)^(1/3.0))
hist(log(loans$amount))
hist(sqrt(loans$amount))
hist(loans$payment)
hist(sqrt(loans$payment))
hist(log(loans$income))
hist(loans$delinq2yr)
hist(sqrt(loans$delinq2yr))
hist(log(loans$delinq2yr))
hist(loans$delinq2yr)
hist(loans$inq6mth)
hist(sqrt(loans$delinq2yr)) #maybe remove?
hist((loans$delinq2yr)^(1/3)) #maybe remove?
hist(log(1+loans$delinq2yr)) #maybe remove?
hist(loans$inq6mth)
hist(loans$openAcc)
hist(loans$totalBal)
hist(log(loans$totalBal))
hist(log(loans$totalIlLim))
summarize(loans$delinq2yr)
summary(loans$delinq2yr)
summary(loans$inq6mth)
hist(loans$delinq2yr) #do not transform does not appear to help
summary(loans$delinq2yr)
hist(loans$inq6mth)
hist(loans$openAcc)
hist(sqrt(loans$openAcc))
#https://stats.stackexchange.com/questions/11406/boxplot-with-respect-to-two-factors-using-ggplot2-in-r
library(ggplot2)
#https://stats.stackexchange.com/questions/11406/boxplot-with-respect-to-two-factors-using-ggplot2-in-r
require(ggplot2)
ggplot(aes(y = amount, x = response), data = loans) + geom_boxplot()
hist(loans$delinq2yr[which(loans$response == "Good")])
hist(loans$delinq2yr[which(loans$response == "Bad")])
hist(loans$delinq2yr[which(loans$response == "Good")])
hist(loans$inq6mth[which(loans$response == "Good")])
hist(loans$inq6mth[which(loans$response == "Bad")])
hist(loans$inq6mth[which(loans$response == "Good")])
hist(loans$openAcc[which(loans$response == "Good")])
hist(loans$openAcc[which(loans$response == "Bad")])
mean(loans$openAcc[which(loans$response == "Good")])
mean(loans$openAcc[which(loans$response == "Bad")])
median(loans$openAcc[which(loans$response == "Good")])
median(loans$openAcc[which(loans$response == "Bad")])
