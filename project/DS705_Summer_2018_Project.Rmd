---
title: 'Predicting Loan Defaults with Logistic Regression'
author: "Matt Allen"
date: "06/26/2018"
output: word_document
fontsize: 12pt
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.


## R Markdown


## 1. Executive Summary
## 2. Introduction

Hello Matt!

## 3. Preparing and Cleaning the Data

Create a new column loan_status that will have the values Good and Bad. Where a good

Eliminate employment column which is a description of the borrower's occupation. These are difficult to categorize and better indicators of ability to pay the loan related to employment would be income and length of continuous employment.

```{r pressure, echo=FALSE}
#import data
loans <- read.csv2("C:/Users/matt/source/repos/ds705/project/loans50k.csv", header = TRUE, sep = ",")
loans$response <- loans$status
#Good loans are those that have a status of "Fully Paid". Bad loans are those that have a status of "Charged Off" or "Default".
#loans$response <- 
#c("Charged Off","Default","Fully Paid")
#c("Bad","Bad","Good")
#loans$response[which(loans$response == "Charged Off")] <- "Bad" 
table(loans$response)

levels(loans$response)[levels(loans$response)==c("Charged Off")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Default")] <- "Bad"
levels(loans$response)[levels(loans$response)==c("Fully Paid")] <- "Good"

loans <- loans[which(loans$response=="Bad" | loans$response=="Good"), ]
#remove unuused levels
loans$response <- factor(loans$response)
#loans <- loans[loans$response == c("Good","Bad"),]
table(loans$response)
#drop columns
#https://stackoverflow.com/questions/4605206/drop-data-frame-columns-by-name

#
columns_to_keep <- c("response", "income", "amount", "rate", "grade", "debtIncRat", "length")
loans <- loans[columns_to_keep]
summary(loans)
```


## 4. Exploring and Transforming the Data
## 5. The Logistic Model
## 6. Optimizing the Threshold for Accuracy
## 7. Optimizing the Threshold for Profit
## 8. Results Summary
